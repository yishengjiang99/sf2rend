<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>asdfas
	<script type='module'>
		import {load} from "https://unpkg.com/sf2-service@1.0.5/read.js"
		import {SpinNode} from "./index.js"
		window.onload = async function () {
			const o = new AudioContext();
			const spinInitWait = SpinNode.init(o);
			load("https://dsp.grepawk.com/sf2rend/file.sf2").then(async function (loadProgram) {
				debugger;
				const piano = await loadProgram(0, 0);
				await piano.preload();
				spinInitWait.then((node) => {
					Object.keys(piano.shdrMap).map(k => {
						node.loadPcm(shdrMap[k].data, shdrMap[k].hdr);
					})
					node.connect(o.destination);
				});
			})
		}
		window.onkeydown = () => {

		};

	</script>
</body>
</html>
