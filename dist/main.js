(()=>{"use strict";var e,t,n={},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={exports:{}};return n[e](o,o.exports,a),o.exports}function o(e,t={},n=""){const r=document.createElement(e);for(const e in t)e.match(/on(.*)/)?r.addEventListener(e.match(/on(.*)/)[1],t[e]):r.setAttribute(e,t[e]);return(Array.isArray(n)?n:[n]).forEach((e=>{"string"==typeof e?r.innerHTML+=e:r.append(e)})),r.attachTo=function(e){return e&&e.append(this),this},r.wrapWith=function(e){const t=o(e);return t.append(this),t},r}function i(e,t={},n=[]){var r=document.createElementNS("http://www.w3.org/2000/svg",e);for(var a in t)"xlink:href"==a?r.setAttributeNS("http://www.w3.org/1999/xlink","href",t[a]):r.setAttribute(a,t[a]);return(Array.isArray(n)?n:[n]).forEach((e=>r.append(e))),r}let s;a.m=n,a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>e+".js",a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="sf2rend:",a.l=(n,r,o,i)=>{if(e[n])e[n].push(r);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+o){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",t+o),s.src=n),e[n]=[r];var p=(t,r)=>{s.onerror=s.onload=null,clearTimeout(m);var a=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(r))),t)return t(r)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="dist/",(()=>{var e={179:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,a)=>r=e[t]=[n,a]));n.push(r[2]=o);var i=a.p+a.u(t),s=new Error;a.l(i,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[i,s,l]=n,c=0;if(i.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);l&&l(a)}for(t&&t(n);c<i.length;c++)o=i[c],a.o(e,o)&&e[o]&&e[o][0](),e[i[c]]=0},n=globalThis.webpackChunksf2rend=globalThis.webpackChunksf2rend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();class l extends AudioWorkletNode{static async init(e){await e.audioWorklet.addModule(document.location.pathname.split("/sf2rend")[0]+"/sf2rend/spin/spin-proc.js")}static alloc(e){return s||(s=new l(e)),s}constructor(e){super(e,"spin-proc",{numberOfInputs:0,numberOfOutputs:1,outputChannelCount:[2]})}keyOn(e,t,n,r){this.port.postMessage([144,e,t.ref,t.calcPitchRatio(n,this.context.sampleRate),r])}keyOff(e,t,n){this.port.postMessage([128,e,t,n])}async shipProgram(e,t){await async function(e,t){await Promise.all(Object.values(e.shdrMap).map((async n=>{const r=await fetch(e.url,{headers:{Range:`bytes=${n.range.join("-")}`}});t.postMessage({segments:{sampleId:n.SampleId,nSamples:(n.range[1]+1-n.range[0])/2,loops:n.loops,sampleRate:n.sampleRate},stream:r.body},[r.body]),await r.body.closed})))}(e,this.port),await this.postZoneAttributes(e,t)}async postZoneAttributes(e,t){this.port.postMessage({presetId:t,zArr:e.zMap.map((e=>{const t=new Int16Array(60);return t.set(e.arr),{arr:t.buffer,ref:e.ref}}))})}handleMsg(e){console.log(e.data)}}var c=["Name","Url","LastModified","Etag","Size","ContentType","ContentEncoding","ContentLanguage"];const d=["StartAddrOfs","EndAddrOfs","StartLoopAddrOfs","EndLoopAddrOfs","StartAddrCoarseOfs","ModLFO2Pitch","VibLFO2Pitch","ModEnv2Pitch","FilterFc","FilterQ","ModLFO2FilterFc","ModEnv2FilterFc","EndAddrCoarseOfs","ModLFO2Vol","Unused1","ChorusSend","ReverbSend","Pan","Unused2","Unused3","Unused4","ModLFODelay","ModLFOFreq","VibLFODelay","VibLFOFreq","ModEnvDelay","ModEnvAttack","ModEnvHold","ModEnvDecay","ModEnvSustain","ModEnvRelease","Key2ModEnvHold","Key2ModEnvDecay","VolEnvDelay","VolEnvAttack","VolEnvHold","VolEnvDecay","VolEnvSustain","VolEnvRelease","Key2VolEnvHold","Key2VolEnvDecay","Instrument","Reserved1","KeyRange","VelRange","StartLoopAddrCoarseOfs","Keynum","Velocity","Attenuation","Reserved2","EndLoopAddrCoarseOfs","CoarseTune","FineTune","SampleId","SampleModes","Reserved3","ScaleTune","ExclusiveClass","OverrideRootKey","Dummy"];class u{constructor(e,t){const n=e;let r=0;const a=o("div",{class:"keyboards"},p(48,72).map((n=>o("a",{midi:n,onmousedown:a=>{r++,t([144|e,n,this.velocityInput]),a.target.addEventListener("mouseup",(()=>r>=0&&t([128|e,n,this.velocityInput])),{once:!0})}},[n%12?" ":o("br"),n])))),s=o("div",{class:"attrs",style:"display:grid; grid-template-columns:1fr 1fr; grid-column-gap:10px;"},[o("input",{type:"list",list:"programs",value:"",class:"name",onfocus:e=>{e.target.placeholder=e.target.value,e.target.value=""},onunfocus:e=>{""==e.target.value&&(e.target.value=e.target.placeholder)},onchange:n=>{const r=Array.from(n.target.list.options).filter((e=>e.value==n.target.value));if(!r||!r.length)throw"target not found";const a=r[0].getAttribute("pid");t([192|e,a,0])}},["channel "+n]),o("input",{type:"checkbox"}),o("div",{style:"display:grid; grid-template-columns:1fr 1fr; "},["midi",o("meter",{min:0,max:127,step:1,aria:"key"}),"vel",o("input",{type:"range",id:"velin",min:1,max:127,step:1,aria:"vel"}),o("label",{for:"vol"},"volume"),o("input",{min:0,max:127,value:100,step:1,id:"vol",type:"range",oninput:n=>t([176|e,7,n.target.value])}),o("label",{for:"pan"},"pan"),o("input",{min:0,max:127,step:1,type:"range",value:64,oninput:n=>t([176|e,10,n.target.value])}),o("label",{for:"expression"},"expression"),o("input",{min:0,max:127,step:1,value:127,type:"range",oninput:n=>t([176|e,11,n.target.value])})]),o("div",{},[i("svg",{style:"width:80px;height:59px; display:inline;",viewBox:"0 0 80 60"},[i("polyline",{fill:"red",stroke:"black"})]),a])]);this.nameLabel=s.querySelector("input[type='list']"),this.meters=s.querySelectorAll("meter"),[this.velinput,...this.sliders]=Array.from(s.querySelectorAll("input[type='range']")),this.labels=s.querySelectorAll("label"),this.led=s.querySelector("input[type=checkbox]"),this.polylines=Array.from(s.querySelectorAll("polyline")),this.container=s,this._active=!1,this._midi=null}set name(e){this.nameLabel.value=e}set midi(e){this._midi=e,this.meters[0].value=e}get midi(){return this._midi}set CC({key:e,value:t}){switch(e){case 7:this.sliders[0].value=t,this.labels[0].innerHTML="volume"+t;break;case 10:this.sliders[1].value=t,this.labels[1].innerHTML="pan"+t;break;case 11:this.sliders[2].value=t,this.labels[2].innerHTML="exp"+t;break;default:console.log(e,t)}}set velocity(e){this.velinput.value=e}get velocityInput(){return parseInt(this.velinput.value)}get active(){return this._active}set active(e){this._active=e,e?this.led.setAttribute("checked","checked"):this.led.removeAttribute("checked")}set env1({phases:[e,t,n,r],peak:a}){const o=[[0,0],[e,1],[e+t,n/100],[e+t+r,0]].map((([e,t])=>[12*e,.8*(1-t)*40].join(","))).join(" ");this.polylines[0].setAttribute("points",o)}get canvasContainer(){return this.canc}set zone(e){document.querySelector("#debug").innerHTML=d.reduce(((t,n)=>t+`${n}: ${e[n]}\n`),"")}}const p=(e,t)=>Array.from(function*(e,t){for(;e<t;)yield e++}(e,t));function m(e,t){h(e);const n=e.canvas.parentElement.querySelector("input[type='range']");n.oninput=n=>m(e,t);const[r,a]=f(e);let o=0,i=0,s=r/t.length;for(let e=1;e<t.length;e++)o=t[e]>o?t[e]:o;e.beginPath(),e.lineWidth=1,e.strokeStyle="white",e.moveTo(0,a/2);const l=n.value;for(let n=1;n<t.length;n++)i+=s,e.lineTo(i,a/2-l*t[n]);e.stroke(),e.font="1em Arial"}function f(e){return[e.canvas.getAttribute("width")?parseInt(e.canvas.getAttribute("width")):WIDTH,e.canvas.getAttribute("height")?parseInt(e.canvas.getAttribute("height")):HEIGHT]}function h(e){if(!e)return;const t=e,[n,r]=f(t);t.clearRect(0,0,n,r),t.fillStyle="black",t.fillRect(0,0,n,r)}function g(e,t,n){e.ctx;const r=e.spinner,a=e.egs[t];let o,i,s,l=!1;return{set active(e){l=e},get active(){return l},get pid(){return s},set midicc(e){o=e,a.midiState=e},set program({pg:e,pid:t,bankId:r,name:a}){i=e,s=t,n.name=a||"pid "+t+" bid "+r},ui:n,keyOn(e,o){if(!i)return;console.assert(null!=i);let s=i.zMap.filter((t=>(-1==o||t.VelRange.lo<o&&t.VelRange.hi>=o)&&(-1==e||t.KeyRange.lo<e&&t.KeyRange.hi>=e)));0==s.length&&(s=[i.zMap[0]]),s.slice(0,2).map(((i,s)=>{r.keyOn(2*t+s,i,e,o),0==s&&requestAnimationFrame((()=>{a.zone=i,n.active=!0,n.velocity=o,n.midi=e,n.env1=a.keyOn(o),n.zone=i}))}))},keyOff(e,a){i&&(r.keyOff(2*t,e,a),r.keyOff(2*t+1,e,a),requestAnimationFrame((()=>n.active=!1)))}}}function y(e){const t=new GainNode(e,{gain:0});let n,r,a,o,i,s,l,c,d;return{set zone(e){!function(e){[n,r,a,o,i]=[e.VolEnvDelay,e.VolEnvAttack,e.VolEnvHold,e.VolEnvDecay,e.VolEnvRelease].map((e=>-1==e||e<=-12e3?1e-4:Math.pow(2,e/1200))),l=Math.pow(10,e.VolEnvSustain/-200),d=e}(e)},set midiState(e){c=e},keyOn(e){const u=Math.pow(10,-.005*d.Attenuation),p=c[7]/128,m=c[11]/128;return s=u*p*m*e/128,t.gain.linearRampToValueAtTime(s,n+r),o>.001&&t.gain.linearRampToValueAtTime(s*(1-l),n+r+a+o),{phases:[r,o,l,i],peak:s}},keyOff(){t.gain.linearRampToValueAtTime(0,i)},gainNode:t}}const v=["VintageDreamsWaves-v2.sf2","GeneralUserGS.sf2"];let b;const w=new URLSearchParams(document.location.search);let S,k,A,M,E,x=w.get("midif")||"song.mid",O=w.get("sf2f")||v[0];const T=[];function L(e,t,n,{timeslide:r,rx1:a,rx2:i,cmdPanel:s,updateCanvas:l,titleDiv:c,headerDiv:d}){s.innerHTML="",e.addEventListener("message",(e=>{if(e.data.channel)t.postMessage(e.data.channel);else if(e.data.qn){a.innerHTML=e.data.qn;const t=new Array(88).fill(" ");for(const e of A)e.active&&e.midi&&(t[e.midi-21]="#");k(t.join(""))}else if(e.data.tempo)i.innerHTML="Tempo:"+(0|e.data.tempo);else if(e.data.t)r.value=e.data.t;else if(e.data.meta){const t=["seq num","text","cpyrght","Track Name","lyrics","instrument","marker","cue point"];function n(e){if(e<8)return t[e];switch(e){case 32:return"mc";case 33:return"port: ";case 81:return"tempo";case 47:return"end of tack";case 88:return"time signature";default:return parseInt(e).toString(16)}}k(n(e.data.meta)+": "+e.data.payload)}})),r.value=0,o("button",{class:"cmd",cmd:"start"},"start").attachTo(s),o("button",{class:"cmd",cmd:"pause"},"pause").attachTo(s),o("button",{class:"cmd",cmd:"rwd",amt:"rwd"},"rwd").attachTo(s),s.querySelectorAll("button.cmd").forEach((t=>t.addEventListener("click",(t=>{const r=t.target.getAttribute("cmd");"running"!=n.ctx.state?n.ctx.resume().then((()=>e.postMessage({cmd:r}))):e.postMessage({cmd:r})})))),e.postMessage({cmd:"inited"})}async function R(e,t,n,r){const a=[],i=new Uint8Array(2048),s=document.querySelector("#bigcan"),l=function(e={}){const{width:t,height:n,container:r,title:a}=Object.assign({container:document.body,title:"",width:480,height:320},e),i=document.createElement("canvas");i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`);const s=i.getContext("2d");s.lineWidth=2,s.strokeStyle="white",s.fillStyle="black",s.font="2em";const l=o("div",{style:"padding:2px"},[a?o("h5",{},a):"",o("div",{class:"cp",style:"position:absolute"},["y-zoom",o("input",{type:"range",value:.5*n,max:3*n,min:0})]),i]);return r.append(l),i.ondblclick=()=>h(s),s}({container:document.querySelector("#bigcan"),width:s.clientWidth,height:s.clientHeight});for(let t=0;t<16;t++)a[t]=g(e,t,n[t]),a[t].midicc=i.subarray(128*t,128*t+128);return r.onmessage((function(t){const[n,r,o]=t,i=n>>4,s=15&n,l=127&r,c=127&o;switch(i){case 11:e.spinner.port.postMessage([176,s,l,c]),a[s].ui.CC={key:l,value:c};break;case 12:const t=l,n=9==s?128:0;t!=a[s].pid&&b(s,t,n);break;case 8:a[s].keyOff(l,c);break;case 0:a[s].keyOn(l,55);break;case 9:0==c?a[s].keyOff(l,c):a[s].keyOn(l,c);break;default:k("midi cmd: "+[s,i,r,o].join("/"))}})),{channels:a,ccs:i,bigcan:l}}document.location.href.includes("test.html")||(async function(){let e=document.querySelector("#midilist");e||(e=document.createElement("div")),(await function(e="https://grep32bit.blob.core.windows.net/midi?resttype=container&comp=list"){return new Promise(((t,n)=>{const r=new XMLHttpRequest;r.open("GET",e),r.responseType="document",r.send(),r.onload=function(){if(r.responseXML){const e=Array.from(r.responseXML.querySelectorAll("Blob"));t(e.map((function(e){var t=new Map;return c.forEach((function(n){t.set(n,e.querySelector(n).textContent)})),t})).sort(((e,t)=>new Date(e.LastModified)<new Date(t.lastModified)?-1:1)))}},r.onerror=n,r.ontimeout=n}))}()).forEach((t=>e.append(o("a",{href:"index.html?midif="+t.get("Url").replace("https://grep32bit.blob.core.windows.net/midi/","")},t.get("Name")).wrapWith("li"))))}(),async function(e,t,{cpanel:n,cmdPanel:r,stdout:i,flist:s,timeslide:c,titleDiv:p,rx:f,headerDiv:h}){n||(n=o("div"));const g="https://grep32bit.blob.core.windows.net/midi/"+t,v=function(){const e=[];let t;return{onmessage(e){t=e},postMessage(n){e.push(n),t&&t(e.shift())}}}();A=function(e,t){t=t.postMessage;const n=[],r=o("div",{border:1,style:"display:grid;grid-template-columns:1fr 1fr; grid-row-gap:20px;"});for(let e=0;e<16;e++){const a=new u(e,t);n.push(a),r.append(a.container)}return r.attachTo(e),n}(n,v);const w=o("datalist",{id:"programs"}),k=o("datalist",{id:"drums"});if(document.body.append(w),document.body.append(k),S=await async function(e,{onHeader:t,onSample:n,onZone:r}={}){let o,i,s;const l=await a.e(35).then(a.bind(a,35)),c=await l.default(),{pdtaBuffer:d,sdtaStart:u,fullUrl:p}=await async function(e){const t=await fetch(e,{headers:{Range:"bytes=0-6400"}}),n=await t.arrayBuffer(),[r,a]=function(e){const t=function(e){const t=new Uint8Array(e);let n=0;function r(){return t[n++]}function a(e){const r=t.subarray(n,n+e);return n+=e,r}const o=()=>r()|r()<<8;return{skip:e=>{n+=e},get8:r,get16:o,getS16:()=>{const e=o();return 32768&e?-65536+e:e},readN:e=>{const r=t.slice(n,e);return n+=e,r},read32String:()=>a(4),varLenInt:function(){let e=r();for(;128&e;)e=r();return e},get32:function(){return r()|r()<<8|r()<<16|r()<<24},readNString:e=>a(e),get offset(){return n},set offset(e){n=e}}}(new Uint8Array(e)),[n,r,a,o]=[t.readNString(4),t.get32(),t.readNString(4),t.readNString(4)];let i=t.get32();console.log(t.readNString(4),r,o,t.offset),console.log(i,t.offset);const s=[];for(console.assert(i<1e4);i>=8;){const[e,n]=[t.readNString(4),t.get32()];s.push({section:e,text:t.readNString(n)}),i=i-8-n}return t.readNString(4),[s,t]}(n),o=a.get32(),i=a.offset+8,s=i+o+4,l={headers:{Range:"bytes="+s+"-"}};return{nsamples:(s-i)/2,sdtaStart:i,infos:r,pdtaBuffer:new Uint8Array(await(await fetch(e,l)).arrayBuffer()),fullUrl:t.url}}(e);function m(){}const f=c._malloc(d.byteLength);c.onHeader=t||m,c.onSample=()=>n||m,c.onZone=r||m,c.HEAPU8.set(d,f);const h=c._loadpdta(f);return i=c._shdrref(),s=new Uint32Array(c.HEAPU32.buffer,c._presetRef(),255),o=c.HEAPU8.buffer.slice(0,h),{url:p,pdtaRef:f,presetRefs:s,heap:o,shdrref:i,sdtaStart:u}}("static/"+e,{onHeader(e,t,n){(t?k:w).append(o("option",{class:"chlink",value:n,pid:e})),T[e|t]=n}}),!S.presetRefs)return;M=await async function(){const e=new AudioContext({sampleRate:48e3});await l.init(e);const t=new l(e),n=[],r=new GainNode(e,{gain:1});t.connect(e.destination);for(let t=0;t<16;t++)n[t]=y(e);return document.addEventListener("mousedown",(async()=>await e.resume()),{once:!0}),{ctx:e,spinner:t,egs:n,masterMixer:r}}(),E=await R(M,0,A,v),b=async function(e,t,n){const r=function({url:e,presetRefs:t,heap:n,shdrref:r,sdtaStart:a},o,i=0){const s=t[o|i],l=[],c={};for(let e=s,t=u(e);t&&-1!=t.SampleId;t=u(e+=120)){const e=t.SampleId;c[e]||(c[e]=p(t.SampleId)),l.push({...t,get shdr(){return c[t.SampleId]},calcPitchRatio(e,n){const r=(100*e-(100*(t.OverrideRootKey>-1?t.OverrideRootKey:c[t.SampleId].originalPitch)+100*t.CoarseTune+1*t.FineTune))/1200;return Math.pow(2,r)*(c[t.SampleId].sampleRate/n)}})}function u(e){return function(e,t){var n={ref:e};for(let e=0;e<60;e++)"VelRange"==d[e]||"KeyRange"==d[e]?n[d[e]]={hi:(32512&t[e])>>8,lo:127&t[e]}:n[d[e]]=t[e];return n.arr=t,n}(e,new Int16Array(n,e,60))}function p(e){const t=r+46*e,o=n.slice(t,t+46);let[i,s,l,c,d]=new Uint32Array(o,20,5);i=Math.max(l-1024,i);const[u]=new Uint8Array(o,40,1);return{nsamples:s-i+1,range:[a+2*i,a+2*s+1],loops:[l-i,c-i],SampleId:e,sampleRate:d,originalPitch:u}}return{zMap:l,preload:async function(){await Promise.all(Object.keys(c).map((e=>c[e].data())))},shdrMap:c,url:e,zref:s}}(S,t,n);E.channels[e].program={pg:r,pid:t,bankId:n,name:T[n|t]},await M.spinner.shipProgram(r,n|t),E.channels[e].active=!0};const{presets:x,totalTicks:O,midiworker:q}=await(P=g,new Promise(((e,t)=>{const n=new Worker("./dist/midiworker.js#"+P,{type:"module"});n.addEventListener("message",(({data:{totalTicks:t,presets:r}})=>e({midiworker:n,totalTicks:t,presets:r})),{once:!0}),n.onerror=t,n.onmessageerror=t})));var P;c.setAttribute("max",O);for await(const e of async function*(e){for(const t of e){const{pid:e,channel:n,t:r}=t;if(r>0)continue;const a=9==n?128:0;yield await b(n,e,a)}0==E.channels[0].active&&(yield await b(0,0,0)),0==E.channels[9].active&&(yield await b(9,0,128))}(x))console.log("preset sent");L(q,v,M,{timeslide:c,cmdPanel:r,updateCanvas:null,titleDiv:p,rx1,rx2,headerDiv:h}),async function(e){const t=await navigator.requestMIDIAccess(),n=Array.from(t.inputs.values());Array.from(t.outputs.values());n.forEach((t=>{t.onmidimessage=({data:t,timestamp:n})=>{e.postMessage(t)}}))}(v),M.spinner.port.onmessage=function({data:{pcmplayback:e}}){e&&requestAnimationFrame((()=>m(E.bigcan,e)))}}(O,x,function(){const e=document.querySelector("#sf2list"),t=document.querySelector("#channelContainer"),n=document.querySelector("#cmdPanel"),r=document.querySelector("#rx1"),a=document.querySelector("#rx2"),i=document.querySelector("progress"),s=function(e=o("pre",{style:"width:30em;min-height:299px;scroll-width:0;max-height:299px;overflow-y:scroll"})){const t=[];let n="",r="";return{stderr:e=>{n=e,r=e},stdout:r=>{t.push((performance.now()/1e3).toFixed(3)+": "+r),t.length>100&&t.shift(),e.innerHTML=n+"\n"+t.join("\n"),e.scrollTop=e.scrollHeight},infoPanel:e,errPanel:o("span")}}(document.querySelector("pre"));k=s.stdout,window.stdout=k;const l=document.querySelector("#title"),c=o("select",{onchange:e=>document.location.href=`${document.location.href.split("?")[0]}?midif=${x}&sf2f=${e.target.value}`},v.map((e=>o("option",e==O?{value:e,selected:1}:{value:e},e))));return n.parentElement.append(c),{flist:e,cpanel:t,cmdPanel:n,timeslide:i,stdout:k,titleDiv:l,rx1:r,rx2:a,headerDiv:document.querySelector("#trktitle")}}()),window.onerror=(e,t,n,r,a)=>{document.querySelector("#debug").innerHTML=JSON.stringify({event:e,source:t,lineno:n,colno:r,error:a},null,"\n")})})();