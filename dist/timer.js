(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function r(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(t,r,o){return(r=function(t){var r=function(t,r){if("object"!==e(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===e(r)?r:String(r)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t}var n,c,i,a={ppqn:240,ts:4,msqn:6e5,get waittime(){return a.msqn/1e3/a.ppqn*60},get ticksElapsed(){return 60}},s=null;function u(){c+=a.ticksElapsed;var e=performance.now();n+=e-i,postMessage({ticks:c,clock:n});var t=a.waittime,r=e-i-t;i=e,s=setTimeout(u,t-r)}n=c=i=0,onmessage=function(e){var t=e.data,o=t.cmd,p=t.tick,f=t.tm;if(t.processorPort,f&&(a=r(r({},a),f)),p&&(c=p),o)switch(o){case"start":i=performance.now(),c=0,clearTimeout(s),i=performance.now(),s=setTimeout(u,a.waittime);break;case"resume":clearTimeout(s),i=performance.now(),s=setTimeout(u,a.waittime);break;case"reset":clearInterval(s),postMessage({ticks:c}),c=0;break;case"stop":case"pause":clearInterval(s);break;case"fwd":c+=8*a.ppqn,postMessage({ticks:c,clocktime:n});break;case"rwd":c-=8*a.ppqn,postMessage({ticks:c})}}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGltZXIuanMiLCJtYXBwaW5ncyI6IndzQ0FDQSxJQWdCSUEsRUFBV0MsRUFBT0MsRUFoQmxCQyxFQUFXLENBQ2RDLEtBQU0sSUFDTkMsR0FBSSxFQUNKQyxLQUFNLElBQ0ZDLGVBQ0gsT0FBT0osRUFBU0csS0FBTyxJQUFPSCxFQUFTQyxLQUFPLEVBQy9DLEVBQ0lJLG1CQUNILE9BQU8sRUFDUixHQU1HQyxFQUFRLEtBK0NaLFNBQVNDLElBQ1JULEdBQVNFLEVBQVNLLGFBQ2xCLElBQUlHLEVBQU1DLFlBQVlELE1BQ3RCWCxHQUFjVyxFQUFNVCxFQUNwQlcsWUFBWSxDQUNYWixNQUFBQSxFQUNBYSxNQUFPZCxJQUVSLElBQU1lLEVBQUtaLEVBQVNJLFNBQ2RTLEVBQVNMLEVBQU1ULEVBQVlhLEVBQ2pDYixFQUFXUyxFQUNYRixFQUFRUSxXQUFXUCxFQUFRSyxFQUFLQyxFQUVqQyxDQTFEQWhCLEVBQVlDLEVBQVFDLEVBQVcsRUFFL0JnQixVQUVBLFNBQWtCQyxHQUF5QyxJQUFBQyxFQUFBRCxFQUF2Q0UsS0FBT0MsRUFBR0YsRUFBSEUsSUFBS0MsRUFBSUgsRUFBSkcsS0FBTUMsRUFBRUosRUFBRkksR0FPckMsR0FQc0RKLEVBQWJLLGNBQ3JDRCxJQUNIckIsRUFBUXVCLEVBQUFBLEVBQUEsR0FBT3ZCLEdBQWFxQixJQUV6QkQsSUFDSHRCLEVBQVFzQixHQUVMRCxFQUFLLE9BQVFBLEdBQ2hCLElBQUssUUFDSnBCLEVBQVdVLFlBQVlELE1BQ3ZCVixFQUFRLEVBQ1IwQixhQUFhbEIsR0FDYlAsRUFBV1UsWUFBWUQsTUFDdkJGLEVBQVFRLFdBQVdQLEVBQVFQLEVBQVNJLFVBQ3BDLE1BQ0QsSUFBSyxTQUNKb0IsYUFBYWxCLEdBQ2JQLEVBQVdVLFlBQVlELE1BQ3ZCRixFQUFRUSxXQUFXUCxFQUFRUCxFQUFTSSxVQUNwQyxNQUNELElBQUssUUFDSnFCLGNBQWNuQixHQUNkSSxZQUFZLENBQUNaLE1BQUFBLElBQ2JBLEVBQVEsRUFDUixNQUNELElBQUssT0FDTCxJQUFLLFFBQ0oyQixjQUFjbkIsR0FDZCxNQUNELElBQUssTUFDSlIsR0FBeUIsRUFBaEJFLEVBQVNDLEtBQ2xCUyxZQUFZLENBQUNaLE1BQUFBLEVBQU9ELFVBQUFBLElBQ3BCLE1BQ0QsSUFBSyxNQUNKQyxHQUF5QixFQUFoQkUsRUFBU0MsS0FDbEJTLFlBQVksQ0FBQ1osTUFBQUEsSUFJaEIsQyIsInNvdXJjZXMiOlsid2VicGFjazovL3NmMnJlbmQvLi9zcmMvc2VxdWVuY2UvdGltZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5sZXQgdG1QYXJhbXMgPSB7XG5cdHBwcW46IDI0MCxcblx0dHM6IDQsXG5cdG1zcW46IDYwMDAwMCxcblx0Z2V0IHdhaXR0aW1lKCkge1xuXHRcdHJldHVybiB0bVBhcmFtcy5tc3FuIC8gMTAwMCAvIHRtUGFyYW1zLnBwcW4gKiA2MDtcblx0fSxcblx0Z2V0IHRpY2tzRWxhcHNlZCgpIHtcblx0XHRyZXR1cm4gNjA7XG5cdH1cbn1cbmNvbnN0IHNjaGVkdWxlZEV2ZW50cyA9IFtdO1xuXG5cblxubGV0IHRpbWVyID0gbnVsbDtcbmxldCBjbG9ja3RpbWUsIHRpY2tzLCBsYXN0VGljaztcbmNsb2NrdGltZSA9IHRpY2tzID0gbGFzdFRpY2sgPSAwO1xuXG5vbm1lc3NhZ2UgPSBoYW5kbGVNc2c7XG5cbmZ1bmN0aW9uIGhhbmRsZU1zZyh7ZGF0YToge2NtZCwgdGljaywgdG0sIHByb2Nlc3NvclBvcnR9fSkge1xuXHRpZiAodG0pIHtcblx0XHR0bVBhcmFtcyA9IHsuLi50bVBhcmFtcywgLi4udG19O1xuXHR9XG5cdGlmICh0aWNrKSB7XG5cdFx0dGlja3MgPSB0aWNrO1xuXHR9XG5cdGlmIChjbWQpIHN3aXRjaCAoY21kKSB7XG5cdFx0Y2FzZSBcInN0YXJ0XCI6XG5cdFx0XHRsYXN0VGljayA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXHRcdFx0dGlja3MgPSAwO1x0XG5cdFx0XHRjbGVhclRpbWVvdXQodGltZXIpO1xuXHRcdFx0bGFzdFRpY2sgPSBwZXJmb3JtYW5jZS5ub3coKTtcblx0XHRcdHRpbWVyID0gc2V0VGltZW91dChvbnRpY2ssIHRtUGFyYW1zLndhaXR0aW1lKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJyZXN1bWVcIjpcblx0XHRcdGNsZWFyVGltZW91dCh0aW1lcik7XG5cdFx0XHRsYXN0VGljayA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXHRcdFx0dGltZXIgPSBzZXRUaW1lb3V0KG9udGljaywgdG1QYXJhbXMud2FpdHRpbWUpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcInJlc2V0XCI6XG5cdFx0XHRjbGVhckludGVydmFsKHRpbWVyKTtcblx0XHRcdHBvc3RNZXNzYWdlKHt0aWNrc30pO1xuXHRcdFx0dGlja3MgPSAwO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcInN0b3BcIjpcblx0XHRjYXNlIFwicGF1c2VcIjpcblx0XHRcdGNsZWFySW50ZXJ2YWwodGltZXIpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImZ3ZFwiOlxuXHRcdFx0dGlja3MgKz0gdG1QYXJhbXMucHBxbiAqIDg7XG5cdFx0XHRwb3N0TWVzc2FnZSh7dGlja3MsIGNsb2NrdGltZX0pO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcInJ3ZFwiOlxuXHRcdFx0dGlja3MgLT0gdG1QYXJhbXMucHBxbiAqIDg7XG5cdFx0XHRwb3N0TWVzc2FnZSh7dGlja3N9KTtcblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6IGJyZWFrO1xuXHR9XG59O1xuXG5mdW5jdGlvbiBvbnRpY2soKSB7XG5cdHRpY2tzICs9IHRtUGFyYW1zLnRpY2tzRWxhcHNlZDtcblx0bGV0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXHRjbG9ja3RpbWUgKz0gKG5vdyAtIGxhc3RUaWNrKTtcblx0cG9zdE1lc3NhZ2Uoe1xuXHRcdHRpY2tzLFxuXHRcdGNsb2NrOiBjbG9ja3RpbWVcblx0fSk7XG5cdGNvbnN0IHd0ID0gdG1QYXJhbXMud2FpdHRpbWU7XG5cdGNvbnN0IGRyaWZ0ID0gKG5vdyAtIGxhc3RUaWNrKSAtIHd0O1xuXHRsYXN0VGljayA9IG5vdztcblx0dGltZXIgPSBzZXRUaW1lb3V0KG9udGljaywgd3QgLSBkcmlmdCk7XG5cbn1cbiJdLCJuYW1lcyI6WyJjbG9ja3RpbWUiLCJ0aWNrcyIsImxhc3RUaWNrIiwidG1QYXJhbXMiLCJwcHFuIiwidHMiLCJtc3FuIiwid2FpdHRpbWUiLCJ0aWNrc0VsYXBzZWQiLCJ0aW1lciIsIm9udGljayIsIm5vdyIsInBlcmZvcm1hbmNlIiwicG9zdE1lc3NhZ2UiLCJjbG9jayIsInd0IiwiZHJpZnQiLCJzZXRUaW1lb3V0Iiwib25tZXNzYWdlIiwiX3JlZiIsIl9yZWYkZGF0YSIsImRhdGEiLCJjbWQiLCJ0aWNrIiwidG0iLCJwcm9jZXNzb3JQb3J0IiwiX29iamVjdFNwcmVhZCIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiXSwic291cmNlUm9vdCI6IiJ9