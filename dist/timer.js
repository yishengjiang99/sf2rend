(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?t(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function n(t,r,n){return(r=function(t){var r=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===e(r)?r:String(r)}(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}var o,c,i,a={ppqn:240,ts:4,msqn:6e5,get waittime(){return a.msqn/1e3/a.ppqn*60},get ticksElapsed(){return 60}},s=null;function u(){c+=a.ticksElapsed;var e=performance.now();o+=e-i,postMessage({ticks:c,clock:o});var t=a.waittime,r=e-i-t;i=e,s=setTimeout(u,t-r)}o=c=i=0,onmessage=function(e){var t=e.data,n=t.cmd,p=t.tick,f=t.tm;if(f&&(a=r(r({},a),f)),p&&(c=p),n)switch(n){case"start":i=performance.now(),c=0,clearTimeout(s),i=performance.now(),s=setTimeout(u,a.waittime);break;case"record":default:break;case"resume":clearTimeout(s),i=performance.now(),s=setTimeout(u,a.waittime);break;case"reset":clearInterval(s),postMessage({ticks:c}),c=0;break;case"stop":case"pause":clearInterval(s);break;case"fwd":c+=8*a.ppqn,postMessage({ticks:c,clocktime:o});break;case"rwd":c-=8*a.ppqn,postMessage({ticks:c})}}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGltZXIuanMiLCJtYXBwaW5ncyI6IndzQ0FDQSxJQWFJQSxFQUFXQyxFQUFPQyxFQWJsQkMsRUFBVyxDQUNkQyxLQUFNLElBQUtDLEdBQUksRUFBR0MsS0FBTSxJQUNwQkMsZUFDSCxPQUFPSixFQUFTRyxLQUFPLElBQU9ILEVBQVNDLEtBQU8sRUFDL0MsRUFDSUksbUJBQ0gsT0FBTyxFQUNSLEdBS0dDLEVBQVEsS0FnRFosU0FBU0MsSUFDUlQsR0FBU0UsRUFBU0ssYUFDbEIsSUFBSUcsRUFBTUMsWUFBWUQsTUFDdEJYLEdBQWNXLEVBQU1ULEVBQ3BCVyxZQUFZLENBQ1haLE1BQUFBLEVBQ0FhLE1BQU9kLElBRVIsSUFBTWUsRUFBS1osRUFBU0ksU0FDZFMsRUFBU0wsRUFBTVQsRUFBWWEsRUFDakNiLEVBQVdTLEVBQ1hGLEVBQVFRLFdBQVdQLEVBQVFLLEVBQUtDLEVBQ2pDLENBMURBaEIsRUFBWUMsRUFBUUMsRUFBVyxFQUUvQmdCLFVBQVksU0FBQUMsR0FBNkIsSUFBQUMsRUFBQUQsRUFBM0JFLEtBQU9DLEVBQUdGLEVBQUhFLElBQUtDLEVBQUlILEVBQUpHLEtBQU1DLEVBQUVKLEVBQUZJLEdBTy9CLEdBTklBLElBQ0hyQixFQUFRc0IsRUFBQUEsRUFBQSxHQUFPdEIsR0FBYXFCLElBRXpCRCxJQUNIdEIsRUFBUXNCLEdBRUxELEVBQUssT0FBUUEsR0FFaEIsSUFBSyxRQUNKcEIsRUFBV1UsWUFBWUQsTUFDdkJWLEVBQVEsRUFDUnlCLGFBQWFqQixHQUNiUCxFQUFXVSxZQUFZRCxNQUN2QkYsRUFBUVEsV0FBV1AsRUFBUVAsRUFBU0ksVUFDcEMsTUFDRCxJQUFLLFNBd0JMLFFBQVMsTUF0QlQsSUFBSyxTQUNKbUIsYUFBYWpCLEdBQ2JQLEVBQVdVLFlBQVlELE1BQ3ZCRixFQUFRUSxXQUFXUCxFQUFRUCxFQUFTSSxVQUNwQyxNQUNELElBQUssUUFDSm9CLGNBQWNsQixHQUNkSSxZQUFZLENBQUNaLE1BQUFBLElBQ2JBLEVBQVEsRUFDUixNQUNELElBQUssT0FDTCxJQUFLLFFBQ0owQixjQUFjbEIsR0FDZCxNQUNELElBQUssTUFDSlIsR0FBeUIsRUFBaEJFLEVBQVNDLEtBQ2xCUyxZQUFZLENBQUNaLE1BQUFBLEVBQU9ELFVBQUFBLElBQ3BCLE1BQ0QsSUFBSyxNQUNKQyxHQUF5QixFQUFoQkUsRUFBU0MsS0FDbEJTLFlBQVksQ0FBQ1osTUFBQUEsSUFJaEIsQyIsInNvdXJjZXMiOlsid2VicGFjazovL3NmMnJlbmQvLi9zcmMvc2VxdWVuY2UvdGltZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5sZXQgdG1QYXJhbXMgPSB7XG5cdHBwcW46IDI0MCwgdHM6IDQsIG1zcW46IDYwMDAwMCxcblx0Z2V0IHdhaXR0aW1lKCkge1xuXHRcdHJldHVybiB0bVBhcmFtcy5tc3FuIC8gMTAwMCAvIHRtUGFyYW1zLnBwcW4gKiA2MDtcblx0fSxcblx0Z2V0IHRpY2tzRWxhcHNlZCgpIHtcblx0XHRyZXR1cm4gNjA7XG5cdH1cbn1cblxuXG4vLyBjb25zdCBpbnRlcnZhbE1pbGxpc2Vjb25kID0gbWljcm9zZWNvbmRQZXJRdWFydGVyTm90ZSAvIDEwMDAgLyB0aW1lU2lnbmF0dXJlO1xubGV0IHRpbWVyID0gbnVsbDtcbmxldCBjbG9ja3RpbWUsIHRpY2tzLCBsYXN0VGljaztcbmNsb2NrdGltZSA9IHRpY2tzID0gbGFzdFRpY2sgPSAwO1xuXG5vbm1lc3NhZ2UgPSAoe2RhdGE6IHtjbWQsIHRpY2ssIHRtfX0pID0+IHtcblx0aWYgKHRtKSB7XG5cdFx0dG1QYXJhbXMgPSB7Li4udG1QYXJhbXMsIC4uLnRtfTtcblx0fVxuXHRpZiAodGljaykge1xuXHRcdHRpY2tzID0gdGljaztcblx0fVxuXHRpZiAoY21kKSBzd2l0Y2ggKGNtZCkge1xuXG5cdFx0Y2FzZSBcInN0YXJ0XCI6XG5cdFx0XHRsYXN0VGljayA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXHRcdFx0dGlja3MgPSAwO1x0XG5cdFx0XHRjbGVhclRpbWVvdXQodGltZXIpO1xuXHRcdFx0bGFzdFRpY2sgPSBwZXJmb3JtYW5jZS5ub3coKTtcblx0XHRcdHRpbWVyID0gc2V0VGltZW91dChvbnRpY2ssIHRtUGFyYW1zLndhaXR0aW1lKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJyZWNvcmRcIjpcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJyZXN1bWVcIjpcblx0XHRcdGNsZWFyVGltZW91dCh0aW1lcik7XG5cdFx0XHRsYXN0VGljayA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXHRcdFx0dGltZXIgPSBzZXRUaW1lb3V0KG9udGljaywgdG1QYXJhbXMud2FpdHRpbWUpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcInJlc2V0XCI6XG5cdFx0XHRjbGVhckludGVydmFsKHRpbWVyKTtcblx0XHRcdHBvc3RNZXNzYWdlKHt0aWNrc30pO1xuXHRcdFx0dGlja3MgPSAwO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcInN0b3BcIjpcblx0XHRjYXNlIFwicGF1c2VcIjpcblx0XHRcdGNsZWFySW50ZXJ2YWwodGltZXIpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcImZ3ZFwiOlxuXHRcdFx0dGlja3MgKz0gdG1QYXJhbXMucHBxbiAqIDg7XG5cdFx0XHRwb3N0TWVzc2FnZSh7dGlja3MsIGNsb2NrdGltZX0pO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSBcInJ3ZFwiOlxuXHRcdFx0dGlja3MgLT0gdG1QYXJhbXMucHBxbiAqIDg7XG5cdFx0XHRwb3N0TWVzc2FnZSh7dGlja3N9KTtcblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6IGJyZWFrO1xuXHR9XG59O1xuXG5mdW5jdGlvbiBvbnRpY2soKSB7XG5cdHRpY2tzICs9IHRtUGFyYW1zLnRpY2tzRWxhcHNlZDtcblx0bGV0IG5vdyA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXHRjbG9ja3RpbWUgKz0gKG5vdyAtIGxhc3RUaWNrKTtcblx0cG9zdE1lc3NhZ2Uoe1xuXHRcdHRpY2tzLFxuXHRcdGNsb2NrOiBjbG9ja3RpbWVcblx0fSk7XG5cdGNvbnN0IHd0ID0gdG1QYXJhbXMud2FpdHRpbWU7XG5cdGNvbnN0IGRyaWZ0ID0gKG5vdyAtIGxhc3RUaWNrKSAtIHd0O1xuXHRsYXN0VGljayA9IG5vdztcblx0dGltZXIgPSBzZXRUaW1lb3V0KG9udGljaywgd3QgLSBkcmlmdCk7XG59XG4iXSwibmFtZXMiOlsiY2xvY2t0aW1lIiwidGlja3MiLCJsYXN0VGljayIsInRtUGFyYW1zIiwicHBxbiIsInRzIiwibXNxbiIsIndhaXR0aW1lIiwidGlja3NFbGFwc2VkIiwidGltZXIiLCJvbnRpY2siLCJub3ciLCJwZXJmb3JtYW5jZSIsInBvc3RNZXNzYWdlIiwiY2xvY2siLCJ3dCIsImRyaWZ0Iiwic2V0VGltZW91dCIsIm9ubWVzc2FnZSIsIl9yZWYiLCJfcmVmJGRhdGEiLCJkYXRhIiwiY21kIiwidGljayIsInRtIiwiX29iamVjdFNwcmVhZCIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiXSwic291cmNlUm9vdCI6IiJ9