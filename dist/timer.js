(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function r(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?t(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(t,r,o){return(r=function(t){var r=function(t,r){if("object"!==e(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,"string");if("object"!==e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===e(r)?r:String(r)}(r))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o,t}var n,c,i,a={ppqn:240,ts:4,msqn:6e5,get waittime(){return a.msqn/1e3/a.ppqn*60},get ticksElapsed(){return 60}},s=null;function u(){c+=a.ticksElapsed;var e=performance.now();n+=e-i,postMessage({ticks:c,clock:n});var t=a.waittime,r=e-i-t;i=e,s=setTimeout(u,t-r)}n=c=i=0,onmessage=function(e){var t=e.data,o=t.cmd,p=t.tick,f=t.tm;if(t.processorPort,f&&(a=r(r({},a),f)),p&&(c=p),o)switch(o){case"start":i=performance.now(),c=0,clearTimeout(s),i=performance.now(),s=setTimeout(u,a.waittime);break;case"resume":clearTimeout(s),i=performance.now(),s=setTimeout(u,a.waittime);break;case"reset":clearInterval(s),postMessage({ticks:c}),c=0;break;case"stop":case"pause":clearInterval(s);break;case"fwd":c+=8*a.ppqn,postMessage({ticks:c,clocktime:n});break;case"rwd":c-=8*a.ppqn,postMessage({ticks:c})}}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGltZXIuanMiLCJtYXBwaW5ncyI6IndzQ0FBQSxJQWNJQSxFQUFXQyxFQUFPQyxFQWRsQkMsRUFBVyxDQUNiQyxLQUFNLElBQ05DLEdBQUksRUFDSkMsS0FBTSxJQUNGQyxlQUNGLE9BQVFKLEVBQVNHLEtBQU8sSUFBT0gsRUFBU0MsS0FBUSxFQUNsRCxFQUNJSSxtQkFDRixPQUFPLEVBQ1QsR0FJRUMsRUFBUSxLQWlEWixTQUFTQyxJQUNQVCxHQUFTRSxFQUFTSyxhQUNsQixJQUFJRyxFQUFNQyxZQUFZRCxNQUN0QlgsR0FBYVcsRUFBTVQsRUFDbkJXLFlBQVksQ0FDVlosTUFBQUEsRUFDQWEsTUFBT2QsSUFFVCxJQUFNZSxFQUFLWixFQUFTSSxTQUNkUyxFQUFRTCxFQUFNVCxFQUFXYSxFQUMvQmIsRUFBV1MsRUFDWEYsRUFBUVEsV0FBV1AsRUFBUUssRUFBS0MsRUFDbEMsQ0EzREFoQixFQUFZQyxFQUFRQyxFQUFXLEVBRS9CZ0IsVUFFQSxTQUFrQkMsR0FBNkMsSUFBQUMsRUFBQUQsRUFBMUNFLEtBQVFDLEVBQUdGLEVBQUhFLElBQUtDLEVBQUlILEVBQUpHLEtBQU1DLEVBQUVKLEVBQUZJLEdBT3RDLEdBUHVESixFQUFiSyxjQUN0Q0QsSUFDRnJCLEVBQVF1QixFQUFBQSxFQUFBLEdBQVF2QixHQUFhcUIsSUFFM0JELElBQ0Z0QixFQUFRc0IsR0FFTkQsRUFDRixPQUFRQSxHQUNOLElBQUssUUFDSHBCLEVBQVdVLFlBQVlELE1BQ3ZCVixFQUFRLEVBQ1IwQixhQUFhbEIsR0FDYlAsRUFBV1UsWUFBWUQsTUFDdkJGLEVBQVFRLFdBQVdQLEVBQVFQLEVBQVNJLFVBQ3BDLE1BQ0YsSUFBSyxTQUNIb0IsYUFBYWxCLEdBQ2JQLEVBQVdVLFlBQVlELE1BQ3ZCRixFQUFRUSxXQUFXUCxFQUFRUCxFQUFTSSxVQUNwQyxNQUNGLElBQUssUUFDSHFCLGNBQWNuQixHQUNkSSxZQUFZLENBQUVaLE1BQUFBLElBQ2RBLEVBQVEsRUFDUixNQUNGLElBQUssT0FDTCxJQUFLLFFBQ0gyQixjQUFjbkIsR0FDZCxNQUNGLElBQUssTUFDSFIsR0FBeUIsRUFBaEJFLEVBQVNDLEtBQ2xCUyxZQUFZLENBQUVaLE1BQUFBLEVBQU9ELFVBQUFBLElBQ3JCLE1BQ0YsSUFBSyxNQUNIQyxHQUF5QixFQUFoQkUsRUFBU0MsS0FDbEJTLFlBQVksQ0FBRVosTUFBQUEsSUFLdEIsQyIsInNvdXJjZXMiOlsid2VicGFjazovL3NmMnJlbmQvLi9zcmMvc2VxdWVuY2UvdGltZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsibGV0IHRtUGFyYW1zID0ge1xuICBwcHFuOiAyNDAsXG4gIHRzOiA0LFxuICBtc3FuOiA2MDAwMDAsXG4gIGdldCB3YWl0dGltZSgpIHtcbiAgICByZXR1cm4gKHRtUGFyYW1zLm1zcW4gLyAxMDAwIC8gdG1QYXJhbXMucHBxbikgKiA2MDtcbiAgfSxcbiAgZ2V0IHRpY2tzRWxhcHNlZCgpIHtcbiAgICByZXR1cm4gNjA7XG4gIH0sXG59O1xuY29uc3Qgc2NoZWR1bGVkRXZlbnRzID0gW107XG5cbmxldCB0aW1lciA9IG51bGw7XG5sZXQgY2xvY2t0aW1lLCB0aWNrcywgbGFzdFRpY2s7XG5jbG9ja3RpbWUgPSB0aWNrcyA9IGxhc3RUaWNrID0gMDtcblxub25tZXNzYWdlID0gaGFuZGxlTXNnO1xuXG5mdW5jdGlvbiBoYW5kbGVNc2coeyBkYXRhOiB7IGNtZCwgdGljaywgdG0sIHByb2Nlc3NvclBvcnQgfSB9KSB7XG4gIGlmICh0bSkge1xuICAgIHRtUGFyYW1zID0geyAuLi50bVBhcmFtcywgLi4udG0gfTtcbiAgfVxuICBpZiAodGljaykge1xuICAgIHRpY2tzID0gdGljaztcbiAgfVxuICBpZiAoY21kKVxuICAgIHN3aXRjaCAoY21kKSB7XG4gICAgICBjYXNlIFwic3RhcnRcIjpcbiAgICAgICAgbGFzdFRpY2sgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgdGlja3MgPSAwO1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICBsYXN0VGljayA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQob250aWNrLCB0bVBhcmFtcy53YWl0dGltZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInJlc3VtZVwiOlxuICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICBsYXN0VGljayA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQob250aWNrLCB0bVBhcmFtcy53YWl0dGltZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInJlc2V0XCI6XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xuICAgICAgICBwb3N0TWVzc2FnZSh7IHRpY2tzIH0pO1xuICAgICAgICB0aWNrcyA9IDA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInN0b3BcIjpcbiAgICAgIGNhc2UgXCJwYXVzZVwiOlxuICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZndkXCI6XG4gICAgICAgIHRpY2tzICs9IHRtUGFyYW1zLnBwcW4gKiA4O1xuICAgICAgICBwb3N0TWVzc2FnZSh7IHRpY2tzLCBjbG9ja3RpbWUgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInJ3ZFwiOlxuICAgICAgICB0aWNrcyAtPSB0bVBhcmFtcy5wcHFuICogODtcbiAgICAgICAgcG9zdE1lc3NhZ2UoeyB0aWNrcyB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG9udGljaygpIHtcbiAgdGlja3MgKz0gdG1QYXJhbXMudGlja3NFbGFwc2VkO1xuICBsZXQgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gIGNsb2NrdGltZSArPSBub3cgLSBsYXN0VGljaztcbiAgcG9zdE1lc3NhZ2Uoe1xuICAgIHRpY2tzLFxuICAgIGNsb2NrOiBjbG9ja3RpbWUsXG4gIH0pO1xuICBjb25zdCB3dCA9IHRtUGFyYW1zLndhaXR0aW1lO1xuICBjb25zdCBkcmlmdCA9IG5vdyAtIGxhc3RUaWNrIC0gd3Q7XG4gIGxhc3RUaWNrID0gbm93O1xuICB0aW1lciA9IHNldFRpbWVvdXQob250aWNrLCB3dCAtIGRyaWZ0KTtcbn1cbiJdLCJuYW1lcyI6WyJjbG9ja3RpbWUiLCJ0aWNrcyIsImxhc3RUaWNrIiwidG1QYXJhbXMiLCJwcHFuIiwidHMiLCJtc3FuIiwid2FpdHRpbWUiLCJ0aWNrc0VsYXBzZWQiLCJ0aW1lciIsIm9udGljayIsIm5vdyIsInBlcmZvcm1hbmNlIiwicG9zdE1lc3NhZ2UiLCJjbG9jayIsInd0IiwiZHJpZnQiLCJzZXRUaW1lb3V0Iiwib25tZXNzYWdlIiwiX3JlZiIsIl9yZWYkZGF0YSIsImRhdGEiLCJjbWQiLCJ0aWNrIiwidG0iLCJwcm9jZXNzb3JQb3J0IiwiX29iamVjdFNwcmVhZCIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiXSwic291cmNlUm9vdCI6IiJ9